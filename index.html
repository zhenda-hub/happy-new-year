<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>2026æ–°æ˜¥è’™ç¦</title>
  <style>
    /* CSS å˜é‡ - ä¸»é¢˜é…è‰² */
    :root {
      --bg-start: #0a0a0a;
      --bg-end: #1a0a0a;
      --primary-color: #FFD700;
      --accent-color: #FF0000;
      --accent-color-2: #FF6B6B;
      --glow-color: rgba(255, 0, 0, 0.8);
      --text-glow: rgba(255, 215, 0, 0.8);
      --border-color: rgba(255, 215, 0, 0.5);
      --box-shadow: rgba(255, 0, 0, 0.3);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Microsoft YaHei', 'SimHei', sans-serif;
      background: linear-gradient(to bottom, var(--bg-start), var(--bg-end));
      overflow: hidden;
      height: 100vh;
      color: #fff;
    }

    #fireworksCanvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
    }

    main {
      position: relative;
      z-index: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      pointer-events: none;
    }

    .title {
      font-size: 4rem;
      font-weight: bold;
      color: var(--primary-color);
      text-shadow:
        0 0 20px var(--glow-color),
        0 0 40px var(--text-glow),
        0 0 60px var(--glow-color);
      animation: titlePulse 3s ease-in-out infinite;
      margin-bottom: 40px;
      text-align: center;
    }

    @keyframes titlePulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    .countdown {
      display: flex;
      align-items: center;
      gap: 20px;
      margin-bottom: 40px;
    }

    .time-unit {
      display: flex;
      flex-direction: column;
      align-items: center;
      background: var(--accent-color-2);
      background: color-mix(in srgb, var(--accent-color) 20%, transparent);
      padding: 20px;
      border-radius: 15px;
      border: 2px solid var(--border-color);
      box-shadow: 0 0 30px var(--box-shadow);
    }

    .number {
      font-size: 4rem;
      font-weight: bold;
      color: var(--primary-color);
      text-shadow: 0 0 20px var(--text-glow);
      font-family: 'Courier New', monospace;
      min-width: 100px;
      text-align: center;
      transition: transform 0.15s ease;
    }

    .label {
      font-size: 1.2rem;
      color: var(--accent-color-2);
      margin-top: 10px;
    }

    .separator {
      font-size: 3rem;
      color: var(--primary-color);
      text-shadow: 0 0 10px var(--text-glow);
    }

    .blessing {
      font-size: 2rem;
      color: var(--primary-color);
      text-shadow: 0 0 20px var(--glow-color);
      animation: blessingFade 4s ease-in-out infinite;
      margin-bottom: 40px;
      text-align: center;
      padding: 0 20px;
    }

    /* ä¸»é¢˜é€‰æ‹©å™¨ */
    .theme-selector {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 100;
      display: flex;
      gap: 10px;
      pointer-events: auto;
    }

    .theme-btn {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      border: 3px solid transparent;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
    }

    .theme-btn:hover {
      transform: scale(1.15);
    }

    .theme-btn.active {
      border-color: #fff;
      box-shadow: 0 0 15px rgba(255, 255, 255, 0.8);
    }

    .theme-btn.active::after {
      content: 'âœ“';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: #fff;
      font-size: 16px;
      text-shadow: 0 0 3px rgba(0,0,0,0.8);
    }

    @keyframes blessingFade {
      0%, 100% { opacity: 0.6; }
      50% { opacity: 1; }
    }

    @media (max-width: 768px) {
      .title {
        font-size: 2rem;
      }

      .countdown {
        gap: 10px;
      }

      .number {
        font-size: 2rem;
        min-width: 60px;
      }

      .label {
        font-size: 0.9rem;
      }

      .blessing {
        font-size: 1.2rem;
      }
    }
  </style>
</head>
<body>
  <canvas id="fireworksCanvas"></canvas>

  <!-- ä¸»é¢˜é€‰æ‹©å™¨ -->
  <div class="theme-selector" id="themeSelector"></div>

  <main>
    <h1 class="title">âœï¸ğŸ‰ æ–°æ˜¥è’™ç¦ å–œä¹å¹³å®‰ ğŸ‰âœï¸</h1>

    <div class="countdown">
      <div class="time-unit">
        <span class="number" id="days">00</span>
        <span class="label">å¤©</span>
      </div>
      <div class="separator">:</div>
      <div class="time-unit">
        <span class="number" id="hours">00</span>
        <span class="label">æ—¶</span>
      </div>
      <div class="separator">:</div>
      <div class="time-unit">
        <span class="number" id="minutes">00</span>
        <span class="label">åˆ†</span>
      </div>
      <div class="separator">:</div>
      <div class="time-unit">
        <span class="number" id="seconds">00</span>
        <span class="label">ç§’</span>
      </div>
    </div>

    <div class="blessing" id="blessingText">æ„¿è€¶å’Œåèµç¦ç»™ä½ ï¼Œä¿æŠ¤ä½  ğŸ™</div>
  </main>

  <script>
    // ========== ä¸»é¢˜ç³»ç»Ÿ ==========
    const themes = {
      traditional: {
        name: 'ğŸ”´ ä¼ ç»Ÿå–œåº†',
        primary: '#FFD700',
        accent: '#FF0000',
        accent2: '#FF6B6B',
        bgStart: '#0a0a0a',
        bgEnd: '#1a0a0a',
        glow: 'rgba(255, 0, 0, 0.8)',
        textGlow: 'rgba(255, 215, 0, 0.8)',
        border: 'rgba(255, 215, 0, 0.5)',
        boxShadow: 'rgba(255, 0, 0, 0.3)',
        fireworks: ['#FF0000', '#FFD700', '#FF6B6B', '#FFA500', '#FF4500', '#FFFF00'],
        btnBg: 'linear-gradient(135deg, #FF0000, #CC0000)'
      },
      purple: {
        name: 'ğŸŸ£ ç´«è‰²æ¢¦å¹»',
        primary: '#E6B800',
        accent: '#9B59B6',
        accent2: '#BB8FCE',
        bgStart: '#1a0a2e',
        bgEnd: '#2d1b4e',
        glow: 'rgba(155, 89, 182, 0.8)',
        textGlow: 'rgba(230, 184, 0, 0.8)',
        border: 'rgba(230, 184, 0, 0.5)',
        boxShadow: 'rgba(155, 89, 182, 0.3)',
        fireworks: ['#9B59B6', '#E6B800', '#FF69B4', '#DDA0DD', '#BA55D3', '#FFB6C1'],
        btnBg: 'linear-gradient(135deg, #9B59B6, #8E44AD)'
      },
      blue: {
        name: 'ğŸ”µ è“è‰²æ˜Ÿç©º',
        primary: '#F0E68C',
        accent: '#3498DB',
        accent2: '#5DADE2',
        bgStart: '#0a1628',
        bgEnd: '#1a2744',
        glow: 'rgba(52, 152, 219, 0.8)',
        textGlow: 'rgba(240, 230, 140, 0.8)',
        border: 'rgba(240, 230, 140, 0.5)',
        boxShadow: 'rgba(52, 152, 219, 0.3)',
        fireworks: ['#3498DB', '#F0E68C', '#AED6F1', '#5DADE2', '#85C1E9', '#D7BDE2'],
        btnBg: 'linear-gradient(135deg, #3498DB, #2980B9)'
      },
      green: {
        name: 'ğŸŸ¢ ç»¿è‰²æ˜¥æ„',
        primary: '#FFD700',
        accent: '#27AE60',
        accent2: '#58D68D',
        bgStart: '#0a1a0a',
        bgEnd: '#1a2e1a',
        glow: 'rgba(39, 174, 96, 0.8)',
        textGlow: 'rgba(255, 215, 0, 0.8)',
        border: 'rgba(255, 215, 0, 0.5)',
        boxShadow: 'rgba(39, 174, 96, 0.3)',
        fireworks: ['#27AE60', '#FFD700', '#58D68D', '#1ABC9C', '#2ECC71', '#F1C40F'],
        btnBg: 'linear-gradient(135deg, #27AE60, #229954)'
      },
      pink: {
        name: 'ğŸŒ¸ ç²‰è‰²æµªæ¼«',
        primary: '#FFC0CB',
        accent: '#E91E63',
        accent2: '#F48FB1',
        bgStart: '#2a1a1a',
        bgEnd: '#3d2828',
        glow: 'rgba(233, 30, 99, 0.8)',
        textGlow: 'rgba(255, 192, 203, 0.8)',
        border: 'rgba(255, 192, 203, 0.5)',
        boxShadow: 'rgba(233, 30, 99, 0.3)',
        fireworks: ['#E91E63', '#FFC0CB', '#F48FB1', '#9B59B6', '#FF69B4', '#FFB6C1'],
        btnBg: 'linear-gradient(135deg, #E91E63, #C2185B)'
      },
      silver: {
        name: 'âšª é“¶ç™½å…¸é›…',
        primary: '#F5F5F5',
        accent: '#74B9FF',
        accent2: '#A6C8FF',
        bgStart: '#1a1a1a',
        bgEnd: '#2a2a2a',
        glow: 'rgba(116, 185, 255, 0.8)',
        textGlow: 'rgba(245, 245, 245, 0.8)',
        border: 'rgba(245, 245, 245, 0.5)',
        boxShadow: 'rgba(116, 185, 255, 0.3)',
        fireworks: ['#F5F5F5', '#74B9FF', '#A6C8FF', '#E8F4F8', '#B3E5FC', '#FFFFFF'],
        btnBg: 'linear-gradient(135deg, #74B9FF, #4A90E2)'
      }
    };

    let currentTheme = 'traditional';
    let currentFireworkColors = themes.traditional.fireworks;

    function setTheme(themeName) {
      const theme = themes[themeName];
      currentTheme = themeName;
      currentFireworkColors = theme.fireworks;

      const root = document.documentElement;
      root.style.setProperty('--bg-start', theme.bgStart);
      root.style.setProperty('--bg-end', theme.bgEnd);
      root.style.setProperty('--primary-color', theme.primary);
      root.style.setProperty('--accent-color', theme.accent);
      root.style.setProperty('--accent-color-2', theme.accent2);
      root.style.setProperty('--glow-color', theme.glow);
      root.style.setProperty('--text-glow', theme.textGlow);
      root.style.setProperty('--border-color', theme.border);
      root.style.setProperty('--box-shadow', theme.boxShadow);

      // æ›´æ–°æŒ‰é’®çŠ¶æ€
      document.querySelectorAll('.theme-btn').forEach(btn => {
        btn.classList.toggle('active', btn.dataset.theme === themeName);
      });

      // ä¿å­˜åˆ° localStorage
      localStorage.setItem('theme', themeName);
    }

    function initThemeSelector() {
      const container = document.getElementById('themeSelector');

      Object.entries(themes).forEach(([key, theme]) => {
        const btn = document.createElement('div');
        btn.className = 'theme-btn';
        btn.dataset.theme = key;
        btn.style.background = theme.btnBg;
        btn.title = theme.name;
        btn.addEventListener('click', () => setTheme(key));
        container.appendChild(btn);
      });

      // æ¢å¤ä¸Šæ¬¡é€‰æ‹©æˆ–ä½¿ç”¨é»˜è®¤
      const savedTheme = localStorage.getItem('theme') || 'traditional';
      setTheme(savedTheme);
    }

    // è·å–å½“å‰ä¸»é¢˜çš„çƒŸèŠ±é¢œè‰²
    function getThemeColor() {
      return currentFireworkColors[Math.floor(Math.random() * currentFireworkColors.length)];
    }

    // åœ£ç»ç»æ–‡ç¥ç¦è¯­
    const BLESSINGS = [
      'æ„¿è€¶å’Œåèµç¦ç»™ä½ ï¼Œä¿æŠ¤ä½  ğŸ™',
      'æ„¿è€¶å’Œåä½¿ä»–çš„è„¸å…‰ç…§ä½ ï¼Œèµæ©ç»™ä½  âœ¨',
      'æ„¿è€¶å’Œåå‘ä½ ä»°è„¸ï¼Œèµä½ å¹³å®‰ ğŸ•Šï¸',
      'ä½ ä»¥æ©å…¸ä¸ºå¹´å²çš„å† å†• ğŸŒŸ',
      'ä½ çš„è·¯å¾„éƒ½æ»´ä¸‹è„‚æ²¹ ğŸŒ¿',
      'åœ¨ä½ é¢å‰æœ‰æ»¡è¶³çš„å–œä¹ ğŸ‰',
      'åœ¨ä½ å³æ‰‹ä¸­æœ‰æ°¸è¿œçš„ç¦ä¹ ğŸ’«',
      'æˆ‘çš„å¥½å¤„ä¸åœ¨ä½ ä»¥å¤– ğŸ™Œ',
      'æˆ‘çŸ¥é“æˆ‘å¯¹ä½ ä»¬æ‰€æ€€çš„æ„å¿µï¼Œæ˜¯èµå¹³å®‰çš„æ„å¿µ ğŸ•Šï¸',
      'ä½ å½“åˆšå¼ºå£®èƒ†ï¼Œä¸è¦æƒ§æ€• ğŸ’ª',
      'æˆ‘é ç€é‚£åŠ ç»™æˆ‘åŠ›é‡çš„ï¼Œå‡¡äº‹éƒ½èƒ½åš âœï¸',
      'æ•å¼€å¤©ä¸Šçš„çª—æˆ·ï¼Œå€¾ç¦ä¸ä½ ä»¬ ğŸŒˆ'
    ];

    // Canvas åˆå§‹åŒ–
    const canvas = document.getElementById('fireworksCanvas');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    window.addEventListener('resize', () => {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    });

    // è®¾å¤‡æ€§èƒ½è‡ªé€‚åº”
    const isMobile = /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);
    const MAX_PARTICLES = isMobile ? 50 : 100;
    const MAX_FIREWORKS = isMobile ? 3 : 5;

    // çƒŸèŠ±é¢œè‰²ä¸»é¢˜ï¼ˆéšä¸»é¢˜å˜åŒ–ï¼‰
    function themeColor() {
      return getThemeColor();
    }

    // çƒŸèŠ±ç±»
    class Firework {
      constructor(sx, sy, tx, ty) {
        this.x = sx;
        this.y = sy;
        this.sx = sx;
        this.sy = sy;
        this.tx = tx;
        this.ty = ty;
        this.distanceToTarget = Math.sqrt(Math.pow(tx - sx, 2) + Math.pow(ty - sy, 2));
        this.distanceTraveled = 0;
        this.coordinates = [];
        this.coordinateCount = 3;
        while (this.coordinateCount--) {
          this.coordinates.push([this.x, this.y]);
        }
        this.angle = Math.atan2(ty - sy, tx - sx);
        this.speed = 2;
        this.acceleration = 1.05;
        this.brightness = Math.random() * 50 + 50;
        this.targetRadius = 1;
        this.color = themeColor();
      }

      update(index) {
        this.coordinates.pop();
        this.coordinates.unshift([this.x, this.y]);

        this.speed *= this.acceleration;
        const vx = Math.cos(this.angle) * this.speed;
        const vy = Math.sin(this.angle) * this.speed;
        this.distanceTraveled = Math.sqrt(Math.pow(this.x - this.sx, 2) + Math.pow(this.y - this.sy, 2));

        if (this.distanceTraveled >= this.distanceToTarget) {
          createParticles(this.tx, this.ty, this.color);
          fireworks.splice(index, 1);
        } else {
          this.x += vx;
          this.y += vy;
        }
      }

      draw() {
        ctx.beginPath();
        ctx.moveTo(this.coordinates[this.coordinates.length - 1][0], this.coordinates[this.coordinates.length - 1][1]);
        ctx.lineTo(this.x, this.y);
        ctx.strokeStyle = this.color;
        ctx.lineWidth = 2;
        ctx.stroke();
      }
    }

    // ç²’å­ç±»
    class Particle {
      constructor(x, y, color) {
        this.x = x;
        this.y = y;
        this.coordinates = [];
        this.coordinateCount = 5;
        while (this.coordinateCount--) {
          this.coordinates.push([this.x, this.y]);
        }
        this.angle = Math.random() * Math.PI * 2;
        this.speed = Math.random() * 10 + 1;
        this.friction = 0.95;
        this.gravity = 1;
        this.hue = Math.random() * 20 + 20;
        this.brightness = Math.random() * 50 + 50;
        this.alpha = 1;
        this.decay = Math.random() * 0.015 + 0.01;
        this.color = color;
      }

      update(index) {
        this.coordinates.pop();
        this.coordinates.unshift([this.x, this.y]);
        this.speed *= this.friction;
        this.x += Math.cos(this.angle) * this.speed;
        this.y += Math.sin(this.angle) * this.speed + this.gravity;
        this.alpha -= this.decay;

        if (this.alpha <= this.decay) {
          particles.splice(index, 1);
        }
      }

      draw() {
        ctx.beginPath();
        ctx.moveTo(this.coordinates[this.coordinates.length - 1][0], this.coordinates[this.coordinates.length - 1][1]);
        ctx.lineTo(this.x, this.y);
        ctx.strokeStyle = this.color;
        ctx.globalAlpha = this.alpha;
        ctx.lineWidth = 2;
        ctx.stroke();
        ctx.globalAlpha = 1;
      }
    }

    const fireworks = [];
    const particles = [];

    function createParticles(x, y, color) {
      let particleCount = isMobile ? 30 : 50;
      while (particleCount--) {
        particles.push(new Particle(x, y, color));
      }
    }

    function launchFirework(sx, sy, tx, ty) {
      if (fireworks.length < MAX_FIREWORKS) {
        fireworks.push(new Firework(sx, sy, tx, ty));
      }
    }

    // åŠ¨ç”»å¾ªç¯
    function animate() {
      requestAnimationFrame(animate);

      // æ‹–å°¾æ•ˆæœ
      ctx.fillStyle = 'rgba(10, 10, 10, 0.2)';
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      // æ›´æ–°å’Œç»˜åˆ¶çƒŸèŠ±
      for (let i = fireworks.length - 1; i >= 0; i--) {
        fireworks[i].draw();
        fireworks[i].update(i);
      }

      // æ›´æ–°å’Œç»˜åˆ¶ç²’å­
      for (let i = particles.length - 1; i >= 0; i--) {
        particles[i].draw();
        particles[i].update(i);
      }

      // è‡ªåŠ¨çƒŸèŠ±
      if (autoFireworkEnabled && Math.random() < 0.03) {
        const tx = Math.random() * canvas.width;
        const ty = Math.random() * canvas.height * 0.5;
        launchFirework(
          Math.random() * canvas.width,
          canvas.height,
          tx,
          ty
        );
      }
    }

    // ç‚¹å‡»è§¦å‘çƒŸèŠ±
    canvas.addEventListener('click', (e) => {
      const rect = canvas.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const y = e.clientY - rect.top;

      launchFirework(canvas.width / 2, canvas.height, x, y);
    });

    // ç¥ç¦è¯­è‡ªåŠ¨è½®æ’­
    function startBlessingRotation() {
      const blessingEl = document.getElementById('blessingText');
      setInterval(() => {
        const blessing = BLESSINGS[Math.floor(Math.random() * BLESSINGS.length)];
        blessingEl.style.opacity = '0';
        setTimeout(() => {
          blessingEl.textContent = blessing;
          blessingEl.style.opacity = '1';
        }, 500);
      }, 4000);  // æ¯4ç§’åˆ‡æ¢
    }
    startBlessingRotation();

    // å€’è®¡æ—¶
    const targetDate = new Date('2026-02-17T00:00:00').getTime();

    function updateCountdown() {
      const now = new Date().getTime();
      const distance = targetDate - now;

      if (distance < 0) {
        // å€’è®¡æ—¶ç»“æŸ
        document.getElementById('days').textContent = '00';
        document.getElementById('hours').textContent = '00';
        document.getElementById('minutes').textContent = '00';
        document.getElementById('seconds').textContent = '00';
        document.querySelector('.title').textContent = 'ğŸŠ æ–°æ˜¥è’™ç¦ å–œä¹å¹³å®‰ ğŸŠ';
        document.getElementById('blessingText').textContent = 'æ–°å¹´æ–°æ°”è±¡ï¼Œä¸»æ©æ»¡æº¢ï¼';

        // åº†ç¥çƒŸèŠ±
        for (let i = 0; i < 10; i++) {
          setTimeout(() => {
            launchFirework(
              Math.random() * canvas.width,
              canvas.height,
              Math.random() * canvas.width,
              Math.random() * canvas.height * 0.5
            );
          }, i * 200);
        }
        return;
      }

      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((distance % (1000 * 60)) / 1000);

      updateNumber('days', days);
      updateNumber('hours', hours);
      updateNumber('minutes', minutes);
      updateNumber('seconds', seconds);
    }

    function updateNumber(id, value) {
      const el = document.getElementById(id);
      const padded = String(value).padStart(2, '0');
      if (el.textContent !== padded) {
        el.style.transform = 'scale(1.2)';
        setTimeout(() => el.style.transform = 'scale(1)', 150);
        el.textContent = padded;
      }
    }

    setInterval(updateCountdown, 1000);
    updateCountdown();

    // è‡ªåŠ¨çƒŸèŠ±é»˜è®¤å¼€å¯
    let autoFireworkEnabled = true;

    // åˆå§‹åŒ–ä¸»é¢˜é€‰æ‹©å™¨
    initThemeSelector();

    // å¯åŠ¨åŠ¨ç”»
    animate();
  </script>
</body>
</html>
